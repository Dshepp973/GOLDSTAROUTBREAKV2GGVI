<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recall Check – Gold Star Distribution | V2G × GVI</title>
<meta name="description" content="Check if your food, pet food, or household item is affected by the Gold Star Distribution recall. Clear steps. No panic. V2G × GVI public safety guide.">
<!-- Font Awesome for Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Markdown Parser (Kept just in case, though less used now) -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
:root {
  --bg: #070612;
  --panel: #0D0D21;
  --ink: #F3F2FF;
  --muted: #C8C6E8;
  --gold: #E5C100;
  --purple: #3A0071;
  --danger: #FF4D4D;
  --safe: #4AE3C1;
  --tool: #3498db; /* Blue for tools */
  --line: rgba(255, 255, 255, 0.1);
  --shadow: 0 4px 20px rgba(0,0,0,0.5);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

body {
  margin: 0;
  background: linear-gradient(180deg, #050410, #070612);
  color: var(--ink);
  min-height: 100vh;
}

.wrap {
  max-width: 800px;
  margin: auto;
  padding: 24px 16px 80px;
}

/* Header */
header {
  background: rgba(13, 13, 33, 0.6);
  backdrop-filter: blur(10px);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: var(--shadow);
  border-left: 4px solid var(--gold);
  position: relative;
}

.lang-switch-container {
  margin-bottom: 15px;
  text-align: right;
}

.lang-select {
  background: rgba(0,0,0,0.3);
  color: var(--gold);
  border: 1px solid var(--gold);
  padding: 5px 10px;
  border-radius: 6px;
  font-size: 0.85rem;
  cursor: pointer;
}

h1 {
  margin: 0 0 12px;
  font-size: 28px;
  font-weight: 800;
  letter-spacing: -0.5px;
  color: #fff;
}

h2 {
  font-size: 1.25rem;
  margin-bottom: 16px;
  color: var(--ink);
  display: flex;
  align-items: center;
  gap: 10px;
}

p {
  color: var(--muted);
  line-height: 1.6;
  margin: 0 0 16px;
}

/* RTL Support */
html[dir="rtl"] {
  text-align: right;
}
html[dir="rtl"] .lang-switch-container {
  text-align: left;
}
html[dir="rtl"] header {
  border-left: 1px solid var(--line);
  border-right: 4px solid var(--gold);
}
html[dir="rtl"] .safe, html[dir="rtl"] .danger, html[dir="rtl"] .warning {
  border-left-width: 1px;
  border-right-width: 4px;
}
html[dir="rtl"] select, html[dir="rtl"] input {
  background-position: left 1rem center;
  text-align: right;
}
html[dir="rtl"] .result ul {
  padding-right: 20px;
  padding-left: 0;
}

/* Sections */
section {
  margin-top: 24px;
  background: rgba(13, 13, 33, 0.5);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 24px;
  transition: transform 0.2s ease;
}

.tool-section {
  border: 1px solid var(--tool);
  background: linear-gradient(160deg, rgba(13, 13, 33, 0.8), rgba(52, 152, 219, 0.1));
}

.step {
  margin-bottom: 24px;
}

label {
  display: block;
  font-weight: 600;
  margin-bottom: 8px;
  color: #fff;
  font-size: 0.95rem;
}

/* Inputs */
select, input[type="text"] {
  width: 100%;
  padding: 14px;
  border-radius: 8px;
  border: 1px solid var(--line);
  background: #0b0a1a;
  color: var(--ink);
  font-size: 16px; 
  box-sizing: border-box;
  transition: border-color 0.3s;
}

select:focus, input[type="text"]:focus {
  outline: none;
  border-color: var(--gold);
  box-shadow: 0 0 0 2px rgba(229, 193, 0, 0.2);
}

/* Results */
.result {
  margin-top: 24px;
  padding: 24px;
  border-radius: 12px;
  display: none; 
  animation: slideIn 0.4s ease-out;
}

.tool-result {
  background: rgba(52, 152, 219, 0.1);
  border: 1px solid var(--tool);
  margin-top: 15px;
  padding: 15px;
  border-radius: 10px;
  display: none;
  font-size: 0.95rem;
  overflow-wrap: break-word;
  color: #fff;
}

@keyframes slideIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.result h3 {
  margin-top: 0;
  display: flex;
  align-items: center;
  gap: 10px;
}

.result ul {
  padding-left: 20px;
  margin-bottom: 0;
}

.result li {
  margin-bottom: 8px;
  color: var(--ink);
}

.safe {
  background: rgba(74, 227, 193, 0.1);
  border: 1px solid var(--safe);
  border-left-width: 4px;
}
.safe h3 { color: var(--safe); }

.danger {
  background: rgba(255, 77, 77, 0.1);
  border: 1px solid var(--danger);
  border-left-width: 4px;
}
.danger h3 { color: var(--danger); }

.warning {
  background: rgba(229, 193, 0, 0.1);
  border: 1px solid var(--gold);
  border-left-width: 4px;
}
.warning h3 { color: var(--gold); }

/* Legal Notice Box */
.legal-notice {
  font-size: 0.75rem;
  color: #aaa;
  background: rgba(0,0,0,0.3);
  padding: 10px;
  border-radius: 6px;
  border: 1px solid var(--line);
  margin-top: 15px;
  margin-bottom: 10px;
  font-style: italic;
}

/* Buttons */
.btn {
  display: block;
  width: 100%;
  text-align: center;
  padding: 16px;
  border-radius: 99px;
  border: none;
  background: linear-gradient(135deg, var(--purple), #5e2a9e);
  color: #fff;
  font-weight: 700;
  font-size: 1.1rem;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(58, 0, 113, 0.4);
  transition: transform 0.2s, box-shadow 0.2s;
  margin-top: 10px;
  text-decoration: none; /* For link buttons */
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(58, 0, 113, 0.6);
  background: linear-gradient(135deg, #4a008f, #7232bd);
  color: #fff;
}

.btn-tool {
  background: linear-gradient(135deg, #3498db, #2980b9);
  box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
}

.btn-tool:hover {
  background: linear-gradient(135deg, #5dade2, #3498db);
  box-shadow: 0 6px 20px rgba(52, 152, 219, 0.6);
}

.btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
}

/* Footer */
footer {
  margin-top: 40px;
  border-top: 1px solid var(--line);
  padding-top: 24px;
  font-size: 12px;
  color: var(--muted);
  text-align: center;
}

footer a {
  color: var(--gold);
  text-decoration: none;
  transition: color 0.2s;
}

footer a:hover {
  color: #fff;
  text-decoration: underline;
}

.footer-legal {
  margin-top: 20px;
  padding: 15px;
  background: rgba(0,0,0,0.4);
  border-radius: 8px;
  font-size: 11px;
  color: #888;
  line-height: 1.5;
  text-align: justify;
}

/* RTL adjustment for footer */
html[dir="rtl"] .footer-legal {
  text-align: justify;
}

.highlight {
  color: var(--gold);
}

/* Responsive utilities */
@media (min-width: 600px) {
  .btn {
    width: auto;
    display: inline-block;
    padding: 14px 32px;
  }
}
</style>
</head>

<body>

<div class="wrap">

  <header>
    <div class="lang-switch-container">
      <select id="language-selector" class="lang-select" onchange="changeLanguage(this.value)">
        <option value="en">English (US)</option>
        <option value="es">Español (Spanish)</option>
        <option value="ar">العربية (Arabic)</option>
        <option value="gu">ગુજરાતી (Gujarati)</option>
        <option value="am">አማርኛ (Amharic)</option>
        <option value="pt">Português (Portuguese)</option>
        <option value="zh-CN">简体中文 (Chinese Simplified)</option>
        <option value="zh-TW">繁體中文 (Chinese Traditional)</option>
        <option value="fr">Français (French)</option>
      </select>
    </div>

    <h1 data-i18n="appTitle"><i class="fa-solid fa-shield-halved highlight"></i> Recall Check: Gold Star</h1>
    <p data-i18n="appDesc">
      This guided tool helps you determine risk levels for the <strong>Gold Star Distribution</strong> recall (food, pet food, and dry goods). 
      Answer the questions below to assess safety.
    </p>
    <div style="font-size: 0.85rem; background: rgba(255,255,255,0.05); padding: 8px 12px; border-radius: 6px; display: inline-block;">
      <i class="fa-solid fa-circle-info"></i> <span data-i18n="updatedDate">Updated: December 2025</span>
    </div>
  </header>

  <!-- Standard Checker Section -->
  <section>
    <h2><i class="fa-solid fa-location-dot"></i> <span data-i18n="step1Title">Step 1: Source</span></h2>
    <div class="step">
      <label for="store" data-i18n="step1Label">Where did you buy the item?</label>
      <select id="store">
        <option value="" data-i18n="optStoreDefault">-- Select Store Type --</option>
        <option value="listed" data-i18n="optStoreListed">Store listed on FDA/Recall Notice</option>
        <option value="notlisted" data-i18n="optStoreNotListed">Major chain NOT listed</option>
        <option value="unknown" data-i18n="optStoreUnknown">Small market / Co-op / Unsure</option>
      </select>
    </div>

    <h2><i class="fa-solid fa-box-open"></i> <span data-i18n="step2Title">Step 2: Product Type</span></h2>
    <div class="step">
      <label for="category" data-i18n="step2Label">What category is the item?</label>
      <select id="category">
        <option value="" data-i18n="optCatDefault">-- Select Category --</option>
        <option value="shelf" data-i18n="optCatShelf">Shelf-stable (Pasta, Snacks, Candy, Beverages)</option>
        <option value="pet" data-i18n="optCatPet">Pet Food / Treats</option>
        <option value="supplement" data-i18n="optCatSupp">Supplements / Healthcare</option>
        <option value="frozen" data-i18n="optCatFrozen">Frozen / Refrigerated Goods</option>
      </select>
    </div>

    <h2><i class="fa-solid fa-list-check"></i> <span data-i18n="step3Title">Step 3: FDA Status</span></h2>
    <div class="step">
      <label for="listed" data-i18n="step3Label">Is the exact product name/UPC on the recall list?</label>
      <select id="listed">
        <option value="" data-i18n="optListDefault">-- Select List Status --</option>
        <option value="yes" data-i18n="optListYes">Yes, exact match</option>
        <option value="no" data-i18n="optListNo">No, checked and not there</option>
        <option value="unsure" data-i18n="optListUnsure">I haven't checked / Unsure</option>
      </select>
    </div>

    <button class="btn" onclick="checkRecall()" data-i18n="btnCheck">Check My Item</button>

    <!-- Results Containers -->
    <div id="resultSafe" class="result safe">
      <h3><i class="fa-solid fa-circle-check"></i> <span data-i18n="resSafeTitle">Likely Low Risk</span></h3>
      <div data-i18n="resSafeDesc">
        <p>Based on your answers, this item appears to be <strong>outside the primary scope</strong> of the recall.</p>
        <ul>
          <li>Monitor local store notices just in case.</li>
          <li>Frozen items are generally not affected by this dry-storage recall.</li>
          <li>If the packaging is intact and clean, standard use is likely safe.</li>
        </ul>
      </div>
    </div>

    <div id="resultDanger" class="result danger">
      <h3><i class="fa-solid fa-triangle-exclamation"></i> <span data-i18n="resDangerTitle">HIGH RISK: DO NOT USE</span></h3>
      <div data-i18n="resDangerDesc">
        <p><strong>Your item matches critical recall criteria.</strong> The risk of contamination is high.</p>
        <ul>
          <li><strong>STOP:</strong> Do not eat, use, or feed to pets.</li>
          <li><strong>DISPOSE:</strong> Double-bag and trash securely so animals cannot reach it.</li>
          <li><strong>CLEAN:</strong> Sanitize shelves or pantries where the item was stored.</li>
        </ul>
      </div>

      <!-- Action Links Block -->
      <div style="margin-top:20px; padding-top:20px; border-top:1px solid rgba(255,77,77,0.3);">
        <p style="margin-bottom:10px; font-size:0.95rem;">
          <strong data-i18n="step1Action">Step 1: Contact the Source</strong><br>
        </p>
        <a href="https://www.fda.gov/safety/recalls-market-withdrawals-safety-alerts/gold-star-distribution-inc-issues-recall-certain-fda-regulated-products-three-states-including-drugs" target="_blank" class="btn" style="background: rgba(255,77,77,0.1); border: 1px solid var(--danger); color: var(--danger); font-size: 1rem; margin-bottom: 20px;">
          <i class="fa-solid fa-up-right-from-square"></i> <span data-i18n="btnContact">Get Official Contact Info</span>
        </a>

        <p style="margin-bottom:10px; font-size:0.95rem;">
          <strong data-i18n="step2Action">Step 2: Request Refund Template</strong><br>
        </p>
        
        <!-- Legal Notice -->
        <div class="legal-notice" data-i18n="legalNotice">
          <i class="fa-solid fa-scale-balanced"></i> <strong>LEGAL DISCLAIMER:</strong> This tool generates a generic sample template for informational purposes only. It is <strong>NOT</strong> legal advice and does not constitute a legal demand. By using this feature, you agree to hold V2G, GVI, and their affiliates harmless from any liability. You are responsible for reviewing and editing the content before sending.
        </div>

        <button class="btn btn-tool" style="width:100%" onclick="generateRefundTemplate()">
          <i class="fa-regular fa-copy"></i> <span data-i18n="btnDraft">Generate Template</span>
        </button>
        <div id="refundResult" class="tool-result"></div>
      </div>
    </div>

    <div id="resultWarning" class="result warning">
      <h3><i class="fa-solid fa-circle-exclamation"></i> <span data-i18n="resWarningTitle">CAUTION: VERIFY DETAILS</span></h3>
      <div data-i18n="resWarningDesc">
        <p>There is uncertainty about your item. It might be safe, but you should exercise caution.</p>
        <ul>
          <li>Double-check the FDA Recall List for specific UPC codes.</li>
          <li>If the item was bought at a listed store but isn't on the product list, ask the store manager.</li>
          <li><strong>When in doubt, throw it out.</strong></li>
        </ul>
      </div>
    </div>
    
    <div id="errorMsg" style="color: var(--danger); margin-top: 15px; display: none; font-weight: 600;">
      <i class="fa-solid fa-circle-xmark"></i> Please answer all questions to get a result.
    </div>
  </section>

  <!-- Search Tool Section (Replaces AI) -->
  <section class="tool-section">
    <h2><i class="fa-solid fa-magnifying-glass" style="color: #3498db"></i> <span data-i18n="searchSectionTitle">Product Search Helper</span></h2>
    <p data-i18n="searchSectionDesc">
      Enter your product brand below to instantly search the official FDA database via Google.
    </p>
    <div class="step">
      <label for="productQuery" data-i18n="step1Label">Product Name / Brand</label>
      <input type="text" id="productQuery" placeholder="e.g., Blue Ribbon Spaghetti 1lb" data-i18n-placeholder="inputPlaceholder">
    </div>
    <button class="btn btn-tool" onclick="searchProduct()">
      <i class="fa-brands fa-google"></i> <span data-i18n="btnSearch">Search FDA Database</span>
    </button>
  </section>

  <section>
    <h2><i class="fa-solid fa-user-doctor"></i> <span data-i18n="healthTitle">Health & Safety</span></h2>
    <div data-i18n="healthDesc">
      <p><strong>Symptoms to watch for:</strong> This recall is related to unsanitary storage conditions (potential rodent infestation).</p>
      <ul>
        <li>Nausea, vomiting, diarrhea, or abdominal pain.</li>
        <li>Fever or flu-like symptoms (Salmonella risk).</li>
      </ul>
      <p>If symptoms persist, contact a healthcare provider.</p>
    </div>
  </section>

  <footer>
    <p>
      Built by <strong><a href="https://www.v2gmultimedia.com" target="_blank">V2G Multimedia</a></strong> × <strong><a href="https://www.NAHUCEGVI.org" target="_blank">GVI</a></strong><br>
      Part of the Food Safety Scrolls Project.<br>
      <span style="font-size: 0.9em; opacity: 0.8;">Explore <a href="https://www.v2gmultimedia.com/somewhere-within--the-invenity-cosmic" target="_blank">The Invenity Cosmic</a></span>
    </p>
    
    <div class="footer-legal" data-i18n="footerLegal">
      <strong>TERMS OF USE AND LEGAL DISCLAIMER:</strong> 
      This website and its tools are provided for educational and informational purposes only. We are NOT the news, a law firm, or a government agency. We are an independent entity aggregating publicly available safety information. 
      <br><br>
      <strong>NO LEGAL ADVICE:</strong> The content, including email templates, does not constitute legal, medical, or professional advice. Use of any provided templates or information is strictly at your own risk.
    </div>
  </footer>

</div>

<script>
// --- Translation Data ---
const translations = {
  en: {
    appTitle: "Recall Check: Gold Star",
    appDesc: "This guided tool helps you determine risk levels for the <strong>Gold Star Distribution</strong> recall (food, pet food, and dry goods). Answer the questions below to assess safety.",
    updatedDate: "Updated: December 2025",
    step1Title: "Step 1: Source",
    step1Label: "Where did you buy the item?",
    optStoreDefault: "-- Select Store Type --",
    optStoreListed: "Store listed on FDA/Recall Notice",
    optStoreNotListed: "Major chain NOT listed",
    optStoreUnknown: "Small market / Co-op / Unsure",
    step2Title: "Step 2: Product Type",
    step2Label: "What category is the item?",
    optCatDefault: "-- Select Category --",
    optCatShelf: "Shelf-stable (Pasta, Snacks, Candy, Beverages)",
    optCatPet: "Pet Food / Treats",
    optCatSupp: "Supplements / Healthcare",
    optCatFrozen: "Frozen / Refrigerated Goods",
    step3Title: "Step 3: FDA Status",
    step3Label: "Is the exact product name/UPC on the recall list?",
    optListDefault: "-- Select List Status --",
    optListYes: "Yes, exact match",
    optListNo: "No, checked and not there",
    optListUnsure: "I haven't checked / Unsure",
    btnCheck: "Check My Item",
    resSafeTitle: "Likely Low Risk",
    resSafeDesc: "<p>Based on your answers, this item appears to be <strong>outside the primary scope</strong> of the recall.</p><ul><li>Monitor local store notices just in case.</li><li>Frozen items are generally not affected by this dry-storage recall.</li></ul>",
    resDangerTitle: "HIGH RISK: DO NOT USE",
    resDangerDesc: "<p><strong>Your item matches critical recall criteria.</strong> The risk of contamination is high.</p><ul><li><strong>STOP:</strong> Do not eat, use, or feed to pets.</li><li><strong>DISPOSE:</strong> Double-bag and trash securely.</li><li><strong>CLEAN:</strong> Sanitize shelves where stored.</li></ul>",
    resWarningTitle: "CAUTION: VERIFY DETAILS",
    resWarningDesc: "<p>There is uncertainty about your item. It might be safe, but you should exercise caution.</p><ul><li>Double-check the FDA Recall List.</li><li><strong>When in doubt, throw it out.</strong></li></ul>",
    step1Action: "Step 1: Contact the Source",
    btnContact: "Get Official Contact Info",
    step2Action: "Step 2: Request Refund Template",
    legalNotice: "<i class='fa-solid fa-scale-balanced'></i> <strong>LEGAL DISCLAIMER:</strong> This tool generates a generic sample template for informational purposes only. It is <strong>NOT</strong> legal advice.",
    btnDraft: "Generate Template",
    searchSectionTitle: "Product Search Helper",
    searchSectionDesc: "Enter your product brand below to instantly search the official FDA database via Google.",
    inputPlaceholder: "e.g., Blue Ribbon Spaghetti 1lb",
    btnSearch: "Search FDA Database",
    healthTitle: "Health & Safety",
    healthDesc: "<p><strong>Symptoms to watch for:</strong> Nausea, vomiting, fever. If symptoms persist, contact a doctor.</p>",
    footerLegal: "<strong>TERMS:</strong> Tools provided for educational purposes only. We are NOT a law firm. Use at your own risk.",
    emailSubject: "Refund Request: Recalled Product (Gold Star Distribution)",
    emailBody: "To the Store Manager,\n\nI am writing to request a refund for a product I purchased from your store which falls under the recent Gold Star Distribution recall due to sanitary conditions.\n\nProduct: [ENTER PRODUCT NAME]\nDate Purchased: [ENTER DATE]\n\nAccording to the FDA notice, this item is potentially unsafe. Please process a full refund or provide store credit.\n\nThank you,\n[YOUR NAME]"
  },
  es: {
    appTitle: "Verificación de Retiro: Gold Star",
    appDesc: "Esta herramienta ayuda a determinar el nivel de riesgo para el retiro de <strong>Gold Star Distribution</strong>. Respuesta segura, sin pánico.",
    updatedDate: "Actualizado: Diciembre 2025",
    step1Title: "Paso 1: Origen",
    step1Label: "¿Dónde compró el artículo?",
    optStoreDefault: "-- Seleccione Tipo de Tienda --",
    optStoreListed: "Tienda listada en aviso FDA",
    optStoreNotListed: "Cadena grande NO listada",
    optStoreUnknown: "Mercado pequeño / No seguro",
    step2Title: "Paso 2: Categoría",
    step2Label: "¿Qué categoría es?",
    optCatDefault: "-- Seleccione Categoría --",
    optCatShelf: "No perecederos (Pasta, Snacks)",
    optCatPet: "Comida para mascotas",
    optCatSupp: "Suplementos / Salud",
    optCatFrozen: "Congelados / Refrigerados",
    step3Title: "Paso 3: Estado",
    step3Label: "¿Está en la lista oficial?",
    optListDefault: "-- Seleccione Estado --",
    optListYes: "Sí, coincidencia exacta",
    optListNo: "No, revisé y no está",
    optListUnsure: "No seguro",
    btnCheck: "Verificar Artículo",
    resSafeTitle: "Probable Bajo Riesgo",
    resSafeDesc: "<p>Parece estar fuera del alcance del retiro.</p>",
    resDangerTitle: "ALTO RIESGO: NO USAR",
    resDangerDesc: "<p><strong>Coincide con criterios de retiro.</strong></p><ul><li>NO consuma.</li><li>Deseche seguramente.</li></ul>",
    resWarningTitle: "PRECAUCIÓN: VERIFIQUE",
    resWarningDesc: "<p>Hay incertidumbre. Tenga cuidado.</p>",
    step1Action: "Paso 1: Contacto",
    btnContact: "Info Oficial",
    step2Action: "Paso 2: Plantilla de Reembolso",
    legalNotice: "AVISO LEGAL: Solo para información. NO es consejo legal.",
    btnDraft: "Generar Plantilla",
    searchSectionTitle: "Búsqueda de Productos",
    searchSectionDesc: "Ingrese la marca para buscar en la base de datos de la FDA.",
    inputPlaceholder: "ej., Pasta Blue Ribbon",
    btnSearch: "Buscar en FDA",
    healthTitle: "Salud",
    healthDesc: "<p>Síntomas: Náuseas, fiebre. Consulte al médico.</p>",
    footerLegal: "Términos: Solo fines educativos.",
    emailSubject: "Solicitud de Reembolso: Producto Retirado (Gold Star)",
    emailBody: "Al Gerente de la Tienda,\n\nEscribo para solicitar un reembolso por un producto comprado en su tienda que forma parte del retiro de Gold Star Distribution.\n\nProducto: [NOMBRE DEL PRODUCTO]\nFecha de Compra: [FECHA]\n\nSegún el aviso de la FDA, este artículo es potencialmente inseguro. Por favor procese un reembolso completo.\n\nGracias,\n[SU NOMBRE]"
  },
  ar: {
    appTitle: "فحص الاستدعاء: Gold Star",
    appDesc: "أداة لتحديد مخاطر استدعاء Gold Star Distribution.",
    updatedDate: "تحديث: ديسمبر 2025",
    step1Title: "الخطوة 1: المصدر",
    step1Label: "من أين اشتريت المنتج؟",
    optStoreDefault: "-- اختر المتجر --",
    optStoreListed: "متجر مدرج في القائمة",
    optStoreNotListed: "سلسلة غير مدرجة",
    optStoreUnknown: "غير متأكد",
    step2Title: "الخطوة 2: الفئة",
    step2Label: "ما هي فئة المنتج؟",
    optCatDefault: "-- اختر الفئة --",
    optCatShelf: "سلع جافة",
    optCatPet: "طعام حيوانات",
    optCatSupp: "مكملات",
    optCatFrozen: "مجمدات",
    step3Title: "الخطوة 3: الحالة",
    step3Label: "هل المنتج في القائمة؟",
    optListDefault: "-- اختر الحالة --",
    optListYes: "نعم، تطابق",
    optListNo: "لا، غير موجود",
    optListUnsure: "غير متأكد",
    btnCheck: "فحص",
    resSafeTitle: "احتمال خطر منخفض",
    resSafeDesc: "<p>يبدو المنتج آمنًا.</p>",
    resDangerTitle: "خطر: لا تستخدمه",
    resDangerDesc: "<p><strong>تخلص من المنتج فورًا.</strong></p>",
    resWarningTitle: "تحذير: تحقق",
    resWarningDesc: "<p>تأكد من التفاصيل.</p>",
    step1Action: "اتصل بالمصدر",
    btnContact: "معلومات الاتصال",
    step2Action: "نموذج استرداد",
    legalNotice: "تنبيه قانوني: للمعلومات فقط.",
    btnDraft: "إنشاء نموذج",
    searchSectionTitle: "بحث عن منتج",
    searchSectionDesc: "أدخل اسم المنتج للبحث.",
    inputPlaceholder: "مثال: مكرونة",
    btnSearch: "بحث في FDA",
    healthTitle: "الصحة",
    healthDesc: "<p>الأعراض: غثيان، حمى.</p>",
    footerLegal: "للأغراض التعليمية فقط.",
    emailSubject: "طلب استرداد: منتج مسترجع",
    emailBody: "إلى مدير المتجر،\n\nأكتب لطلب استرداد أموال لمنتج تم شراؤه وهو جزء من استدعاء Gold Star Distribution.\n\nالمنتج: [اسم المنتج]\nالتاريخ: [التاريخ]\n\nالمنتج غير آمن وفقًا لـ FDA. يرجى استرداد المبلغ.\n\nشكرًا،\n[اسمك]"
  },
  gu: {
    appTitle: "રિકોલ તપાસ: Gold Star",
    appDesc: "Gold Star Distribution રિકોલ જોખમ તપાસો.",
    updatedDate: "ડિસેમ્બર 2025",
    step1Title: "પગલું 1: સ્ત્રોત",
    step1Label: "ક્યાંથી ખરીદ્યું?",
    optStoreDefault: "-- પસંદ કરો --",
    optStoreListed: "લિસ્ટમાં છે",
    optStoreNotListed: "લિસ્ટમાં નથી",
    optStoreUnknown: "ખાતરી નથી",
    step2Title: "પગલું 2: શ્રેણી",
    step2Label: "કઈ શ્રેણી?",
    optCatDefault: "-- પસંદ કરો --",
    optCatShelf: "સૂકા સામાન",
    optCatPet: "પાલતુ ખોરાક",
    optCatSupp: "પૂરક",
    optCatFrozen: "ફ્રોઝન",
    step3Title: "પગલું 3: સ્થિતિ",
    step3Label: "શું લિસ્ટમાં છે?",
    optListDefault: "-- સ્થિતિ --",
    optListYes: "હા",
    optListNo: "ના",
    optListUnsure: "ખાતરી નથી",
    btnCheck: "તપાસો",
    resSafeTitle: "ઓછું જોખમ",
    resSafeDesc: "<p>સુરક્ષિત લાગે છે.</p>",
    resDangerTitle: "જોખમ: ઉપયોગ કરશો નહીં",
    resDangerDesc: "<p><strong>નિકાલ કરો.</strong></p>",
    resWarningTitle: "સાવચેતી",
    resWarningDesc: "<p>વિગતો તપાસો.</p>",
    step1Action: "સંપર્ક",
    btnContact: "માહિતી",
    step2Action: "રિફંડ ડ્રાફ્ટ",
    legalNotice: "કાયદાકીય સલાહ નથી.",
    btnDraft: "ડ્રાફ્ટ બનાવો",
    searchSectionTitle: "શોધ",
    searchSectionDesc: "ઉત્પાદન નામ લખો.",
    inputPlaceholder: "દા.ત. પાસ્તા",
    btnSearch: "FDA માં શોધો",
    healthTitle: "આરોગ્ય",
    healthDesc: "<p>લક્ષણો: તાવ, ઉલટી.</p>",
    footerLegal: "શૈક્ષણિક હેતુ માટે.",
    emailSubject: "રિફંડ વિનંતી",
    emailBody: "મેનેજર સાહેબ,\n\nહું Gold Star રિકોલ હેઠળના ઉત્પાદન માટે રિફંડ માંગું છું.\n\nઉત્પાદન: [નામ]\nતારીખ: [તારીખ]\n\nઆભાર,\n[તમારું નામ]"
  },
  fr: {
    appTitle: "Vérification Rappel: Gold Star",
    appDesc: "Vérifiez les risques du rappel Gold Star.",
    updatedDate: "Décembre 2025",
    step1Title: "Étape 1: Source",
    step1Label: "Lieu d'achat ?",
    optStoreDefault: "-- Choisir --",
    optStoreListed: "Listé par FDA",
    optStoreNotListed: "Non listé",
    optStoreUnknown: "Incertain",
    step2Title: "Étape 2: Catégorie",
    step2Label: "Quelle catégorie ?",
    optCatDefault: "-- Choisir --",
    optCatShelf: "Produits secs",
    optCatPet: "Animaux",
    optCatSupp: "Santé",
    optCatFrozen: "Surgelés",
    step3Title: "Étape 3: Statut",
    step3Label: "Sur la liste ?",
    optListDefault: "-- Statut --",
    optListYes: "Oui",
    optListNo: "Non",
    optListUnsure: "Incertain",
    btnCheck: "Vérifier",
    resSafeTitle: "Risque Faible",
    resSafeDesc: "<p>Semble sûr.</p>",
    resDangerTitle: "DANGER : NE PAS UTILISER",
    resDangerDesc: "<p><strong>Jeter immédiatement.</strong></p>",
    resWarningTitle: "ATTENTION",
    resWarningDesc: "<p>Vérifiez les détails.</p>",
    step1Action: "Contact",
    btnContact: "Info Officielle",
    step2Action: "Remboursement",
    legalNotice: "Pas un avis juridique.",
    btnDraft: "Créer Modèle",
    searchSectionTitle: "Recherche Produit",
    searchSectionDesc: "Entrez le nom pour chercher.",
    inputPlaceholder: "ex: Pâtes",
    btnSearch: "Chercher FDA",
    healthTitle: "Santé",
    healthDesc: "<p>Symptômes : Fièvre, nausées.</p>",
    footerLegal: "Usage éducatif uniquement.",
    emailSubject: "Demande de Remboursement : Rappel Gold Star",
    emailBody: "Au Responsable du Magasin,\n\nJe demande le remboursement d'un produit acheté chez vous, concerné par le rappel Gold Star Distribution.\n\nProduit : [NOM DU PRODUIT]\nDate : [DATE]\n\nSelon la FDA, ce produit est impropre à la consommation. Merci de procéder au remboursement.\n\nCordialement,\n[VOTRE NOM]"
  },
  pt: {
    appTitle: "Verificação de Recall: Gold Star",
    appDesc: "Verifique o risco do recall Gold Star.",
    updatedDate: "Dezembro 2025",
    step1Title: "Passo 1: Fonte",
    step1Label: "Onde comprou?",
    optStoreDefault: "-- Selecione --",
    optStoreListed: "Listada na FDA",
    optStoreNotListed: "Não listada",
    optStoreUnknown: "Incertain",
    step2Title: "Passo 2: Categoria",
    step2Label: "Qual categoria?",
    optCatDefault: "-- Selecione --",
    optCatShelf: "Secos",
    optCatPet: "Pets",
    optCatSupp: "Suplementos",
    optCatFrozen: "Congelados",
    step3Title: "Passo 3: Status",
    step3Label: "Está na lista?",
    optListDefault: "-- Status --",
    optListYes: "Sim",
    optListNo: "Não",
    optListUnsure: "Incerto",
    btnCheck: "Verificar",
    resSafeTitle: "Risco Baixo",
    resSafeDesc: "<p>Parece seguro.</p>",
    resDangerTitle: "PERIGO: NÃO USE",
    resDangerDesc: "<p><strong>Descarte agora.</strong></p>",
    resWarningTitle: "CUIDADO",
    resWarningDesc: "<p>Verifique detalhes.</p>",
    step1Action: "Contato",
    btnContact: "Info Oficial",
    step2Action: "Reembolso",
    legalNotice: "Não é conselho legal.",
    btnDraft: "Criar Modelo",
    searchSectionTitle: "Busca de Produto",
    searchSectionDesc: "Digite o nome para buscar.",
    inputPlaceholder: "ex: Macarrão",
    btnSearch: "Buscar FDA",
    healthTitle: "Saúde",
    healthDesc: "<p>Sintomas: Febre, náusea.</p>",
    footerLegal: "Uso educativo apenas.",
    emailSubject: "Pedido de Reembolso: Recall Gold Star",
    emailBody: "Ao Gerente,\n\nSolicito reembolso de um produto afetado pelo recall da Gold Star Distribution.\n\nProduto: [NOME DO PRODUTO]\nData: [DATA]\n\nConforme aviso da FDA, o item é inseguro. Por favor, processe o reembolso.\n\nObrigado,\n[SEU NOME]"
  },
  "zh-CN": {
    appTitle: "召回检查：Gold Star",
    appDesc: "确认 Gold Star 召回风险。",
    updatedDate: "2025年12月",
    step1Title: "步骤 1：来源",
    step1Label: "哪里购买？",
    optStoreDefault: "-- 选择 --",
    optStoreListed: "FDA列出",
    optStoreNotListed: "未列出",
    optStoreUnknown: "不确定",
    step2Title: "步骤 2：类别",
    step2Label: "什么类别？",
    optCatDefault: "-- 选择 --",
    optCatShelf: "干货",
    optCatPet: "宠物",
    optCatSupp: "补充剂",
    optCatFrozen: "冷冻",
    step3Title: "步骤 3：状态",
    step3Label: "在列表中吗？",
    optListDefault: "-- 状态 --",
    optListYes: "是",
    optListNo: "否",
    optListUnsure: "不确定",
    btnCheck: "检查",
    resSafeTitle: "低风险",
    resSafeDesc: "<p>似乎安全。</p>",
    resDangerTitle: "危险：勿用",
    resDangerDesc: "<p><strong>立即丢弃。</strong></p>",
    resWarningTitle: "注意",
    resWarningDesc: "<p>核实详情。</p>",
    step1Action: "联系",
    btnContact: "官方信息",
    step2Action: "退款",
    legalNotice: "非法律建议。",
    btnDraft: "生成模板",
    searchSectionTitle: "产品搜索",
    searchSectionDesc: "输入名称搜索。",
    inputPlaceholder: "例如：面条",
    btnSearch: "搜索 FDA",
    healthTitle: "健康",
    healthDesc: "<p>症状：发烧、恶心。</p>",
    footerLegal: "仅供教育。",
    emailSubject: "退款申请：召回产品",
    emailBody: "致经理，\n\n我申请退款，因为购买的产品属于 Gold Star 召回范围。\n\n产品：[产品名称]\n日期：[日期]\n\n根据FDA通知，此产品不安全。请处理退款。\n\n谢谢，\n[您的名字]"
  },
  "zh-TW": {
    appTitle: "召回檢查：Gold Star",
    appDesc: "確認 Gold Star 召回風險。",
    updatedDate: "2025年12月",
    step1Title: "步驟 1：來源",
    step1Label: "哪裡購買？",
    optStoreDefault: "-- 選擇 --",
    optStoreListed: "FDA列出",
    optStoreNotListed: "未列出",
    optStoreUnknown: "不確定",
    step2Title: "步驟 2：類別",
    step2Label: "什麼類別？",
    optCatDefault: "-- 選擇 --",
    optCatShelf: "乾貨",
    optCatPet: "寵物",
    optCatSupp: "補充劑",
    optCatFrozen: "冷凍",
    step3Title: "步驟 3：狀態",
    step3Label: "在列表中嗎？",
    optListDefault: "-- 狀態 --",
    optListYes: "是",
    optListNo: "否",
    optListUnsure: "不確定",
    btnCheck: "檢查",
    resSafeTitle: "低風險",
    resSafeDesc: "<p>似乎安全。</p>",
    resDangerTitle: "危險：勿用",
    resDangerDesc: "<p><strong>立即丟棄。</strong></p>",
    resWarningTitle: "注意",
    resWarningDesc: "<p>核實詳情。</p>",
    step1Action: "聯繫",
    btnContact: "官方信息",
    step2Action: "退款",
    legalNotice: "非法律建議。",
    btnDraft: "生成模板",
    searchSectionTitle: "產品搜索",
    searchSectionDesc: "輸入名稱搜索。",
    inputPlaceholder: "例如：麵條",
    btnSearch: "搜索 FDA",
    healthTitle: "健康",
    healthDesc: "<p>症狀：發燒、噁心。</p>",
    footerLegal: "僅供教育。",
    emailSubject: "退款申請：召回產品",
    emailBody: "致經理，\n\n我申請退款，因為購買的產品屬於 Gold Star 召回範圍。\n\n產品：[產品名稱]\n日期：[日期]\n\n根據FDA通知，此產品不安全。請處理退款。\n\n謝謝，\n[您的名字]"
  },
  am: {
    appTitle: "የማስታወሻ ቼክ: Gold Star",
    appDesc: "የ Gold Star አደጋን ያረጋግጡ።",
    updatedDate: "ዲሴምበር 2025",
    step1Title: "ደረጃ 1: ምንጭ",
    step1Label: "የት ገዙት?",
    optStoreDefault: "-- ይምረጡ --",
    optStoreListed: "በዝርዝሩ አለ",
    optStoreNotListed: "የለም",
    optStoreUnknown: "እርግጠኛ አይደለም",
    step2Title: "ደረጃ 2: አይነት",
    step2Label: "ምድብ?",
    optCatDefault: "-- ይምረጡ --",
    optCatShelf: "ደረቅ",
    optCatPet: "የቤት እንስሳት",
    optCatSupp: "ተጨማሪ",
    optCatFrozen: "ቀዝቃዛ",
    step3Title: "ደረጃ 3: ሁኔታ",
    step3Label: "ዝርዝር ላይ?",
    optListDefault: "-- ሁኔታ --",
    optListYes: "አዎ",
    optListNo: "አይ",
    optListUnsure: "እርግጠኛ አይደለሁም",
    btnCheck: "ፈትሽ",
    resSafeTitle: "ዝቅተኛ አደጋ",
    resSafeDesc: "<p>ደህንነቱ የተጠበቀ ይመስላል።</p>",
    resDangerTitle: "አደጋ: አይጠቀሙ",
    resDangerDesc: "<p><strong>ያስወግዱ።</strong></p>",
    resWarningTitle: "ጥንቃቄ",
    resWarningDesc: "<p>ያረጋግጡ።</p>",
    step1Action: "ያነጋግሩ",
    btnContact: "መረጃ",
    step2Action: "ተመላሽ",
    legalNotice: "የህግ ምክር አይደለም።",
    btnDraft: "ረቂቅ ፍጠር",
    searchSectionTitle: "ፍለጋ",
    searchSectionDesc: "የምርት ስም ያስገቡ።",
    inputPlaceholder: "ለምሳሌ: ፓስታ",
    btnSearch: "FDA ፈልግ",
    healthTitle: "ጤና",
    healthDesc: "<p>ምልክቶች: ትኩሳት, ማቅለሽለሽ።</p>",
    footerLegal: "ለትምህርት ብቻ።",
    emailSubject: "የገንዘብ ተመላሽ ጥያቄ",
    emailBody: "ለስራ አስኪያጁ,\n\nለ Gold Star ክለሳ ተገዢ ለሆነ ምርት ተመላሽ ገንዘብ እጠይቃለሁ።\n\nምርት: [ስም]\nቀን: [ቀን]\n\nእቃው አደገኛ ነው። እባክዎ ገንዘቡን ይመልሱ።\n\nአመሰግናለሁ,\n[ስምዎ]"
  }
};

function changeLanguage(lang) {
  // 1. Handle RTL
  if (lang === 'ar') {
    document.documentElement.setAttribute('dir', 'rtl');
  } else {
    document.documentElement.setAttribute('dir', 'ltr');
  }

  // 2. Update UI text
  const elements = document.querySelectorAll('[data-i18n]');
  elements.forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      el.innerHTML = translations[lang][key]; 
    }
  });

  // 3. Update placeholders
  const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
  placeholders.forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (translations[lang] && translations[lang][key]) {
      el.setAttribute('placeholder', translations[lang][key]);
    }
  });
}

// --- Logic ---
function checkRecall() {
  const store = document.getElementById('store').value;
  const category = document.getElementById('category').value;
  const listed = document.getElementById('listed').value;
  
  const safeDiv = document.getElementById('resultSafe');
  const dangerDiv = document.getElementById('resultDanger');
  const warningDiv = document.getElementById('resultWarning');
  const errorMsg = document.getElementById('errorMsg');
  const refundResult = document.getElementById('refundResult'); 

  safeDiv.style.display = 'none';
  dangerDiv.style.display = 'none';
  warningDiv.style.display = 'none';
  errorMsg.style.display = 'none';
  refundResult.style.display = 'none';

  if (store === "" || category === "" || listed === "") {
    errorMsg.style.display = 'block';
    return;
  }

  if (listed === "yes") {
    dangerDiv.style.display = 'block';
    return;
  }

  if (listed === "unsure" && store === "listed" && category !== "frozen") {
    warningDiv.style.display = 'block';
    return;
  }

  if (listed === "no") {
    if (store === "notlisted") {
      safeDiv.style.display = 'block';
    } else if (category === "frozen") {
      safeDiv.style.display = 'block';
    } else {
      warningDiv.style.display = 'block';
    }
    return;
  }
  warningDiv.style.display = 'block';
}

// --- Tool Features (No AI needed) ---

function searchProduct() {
  const query = document.getElementById('productQuery').value.trim();
  if(!query) {
    alert("Please enter a product name.");
    return;
  }
  // Construct a smart search query for FDA database
  const searchUrl = `https://www.google.com/search?q=site:fda.gov+Gold+Star+Distribution+recall+"${encodeURIComponent(query)}"`;
  window.open(searchUrl, '_blank');
}

function generateRefundTemplate() {
  const lang = document.getElementById('language-selector').value;
  const t = translations[lang];
  
  const resultDiv = document.getElementById('refundResult');
  resultDiv.style.display = 'block';
  
  const html = `
    <strong>${t.emailSubject}</strong><br><br>
    <textarea style="width:100%; height:200px; background:#000; color:#fff; border:1px solid #444; padding:10px; border-radius:5px;">${t.emailBody}</textarea>
    <br><small style="opacity:0.7">Copy and paste into your email app.</small>
  `;
  
  resultDiv.innerHTML = html;
}
</script>

</body>
</html>
